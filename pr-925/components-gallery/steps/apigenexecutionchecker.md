---
hide:
  - navigation
---
# APIGenExecutionChecker

Executes the generated function calls.



This step checks if a given answer from a model as generated by `APIGenGenerator`
    can be executed against a the given library (given by `libpath`, which is a string
    pointing to a python .py file with functions).





### Attributes

- **libpath**: The path to the library where we will retrieve the functions.





### Input & Output Columns

``` mermaid
graph TD
	subgraph Dataset
		subgraph Columns
			ICOL0[answers]
		end
		subgraph New columns
			OCOL0[keep_row_after_execution_check]
			OCOL1[execution_result]
		end
	end

	subgraph APIGenExecutionChecker
		StepInput[Input Columns: answers]
		StepOutput[Output Columns: keep_row_after_execution_check, execution_result]
	end

	ICOL0 --> StepInput
	StepOutput --> OCOL0
	StepOutput --> OCOL1
	StepInput --> StepOutput

```


#### Inputs


- **answers** (`List[Dict[str, Any]]`): List with arguments to be passed to the function.




#### Outputs


- **keep_row_after_execution_check** (`bool`): Whether the function should be kept or not.

- **execution_result** (`str`): The result from executing the function.





### Examples


#### Execute a function from a given library with the answer from an LLM
```python
from distilabel.steps.tasks import APIGenExecutionChecker

# For the libpath you can use as an example the file at the tests folder:
# ../distilabel/tests/unit/steps/tasks/apigen/_sample_module.py
task = APIGenExecutionChecker(
    libpath="../distilabel/tests/unit/steps/tasks/apigen/_sample_module.py",
)
task.load()

res = next(
    task.process(
        [
            {
                "answers": [
                    {
                        "arguments": {
                            "initial_velocity": 0.2,
                            "acceleration": 0.1,
                            "time": 0.5,
                        },
                        "name": "final_velocity",
                    }
                ],
            }
        ]
    )
)
res
#[{'answers': [{'arguments': {'initial_velocity': 0.2, 'acceleration': 0.1, 'time': 0.5}, 'name': 'final_velocity'}], 'keep_row_after_execution_check': True, 'execution_result': ['0.25']}]
```




### References

- [APIGen: Automated Pipeline for Generating Verifiable and Diverse Function-Calling Datasets](https://arxiv.org/abs/2406.18518)

- [Salesforce/xlam-function-calling-60k](https://huggingface.co/datasets/Salesforce/xlam-function-calling-60k)


